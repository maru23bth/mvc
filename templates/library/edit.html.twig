{% extends 'base.html.twig' %}

{% block title %}Hello LibraryController!{% endblock %}

{% block main %}

<h1>Edit book {{ book.title ?? 'new' }}</h1>

{# read and display just one flash message type #}
{% for message in app.flashes('notice') %}
<p class="flash-notice">
    {{ message }}
</p>
{% endfor %}

<!---->
<form method="post" enctype="multipart/form-data">
    <label for="title">Title</label>
    <input type="text" id="title" name="title" value="{{ book.title }}" required>
    <br>
    <label for="author">Author</label>
    <input type="text" id="author" name="author" value="{{ book.author }}" required>
    <br>
    <label for="isbn">ISBN</label>
    <input type="text" id="isbn" name="isbn" value="{{ book.isbn }}" required>
    <br>
    <label for="image">
        {% if book.image %}
            <img src="{{ book.image }}" alt="{{ book.title }}" style="max-width: 200px;max-height:200px;">
            <input type="file" id="image" name="image" accept="image/*">
        {% else %}
            Image
            <input type="file" id="image" name="image" accept="image/*" required>
        {% endif %}
    </label>
    <br>
    <button type="submit">Save</button>
    <button type="button" onclick="history.back()">Cancel</button>
</form>

{% endblock %}